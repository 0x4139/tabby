(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5608],{97895:function(){},95588:function(e,t,n){Promise.resolve().then(n.bind(n,22157))},22157:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eq}});var s=n(36164),a=n(3546),r=n(42891),l=n.n(r),i=n(70652),o=n.n(i),c=n(83332),d=n(14712),u=n.n(d),m=n(71480),f=n(28242),x=n(93877),h=n(43240),p=n(6246),g=n(98454),j=n(70526),v=n(80605),b=n(11634),N=n(74248),w=n(31458),y=n(79972),k=n(81565),S=n(82394),_=n(5266),C=n(29),Y=n(68172),D=n(48537),A=n(30601),R=n(91302),E=n(30220);let Z="community-dialog-shown";function I(){let{status:e}=(0,R.kP)(),[t,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{"authenticated"!==e||localStorage.getItem(Z)||(n(!0),localStorage.setItem(Z,"true"))},[e]),(0,s.jsx)(E.Vq,{open:t,onOpenChange:n,children:(0,s.jsxs)(E.cZ,{children:[(0,s.jsxs)(E.fK,{className:"gap-3",children:[(0,s.jsx)(E.$N,{children:"Join the Tabby community"}),(0,s.jsx)(E.Be,{children:"Connect with other contributors building Tabby. Share knowledge, get help, and contribute to the open-source project."})]}),(0,s.jsx)(E.cN,{className:"sm:justify-start",children:(0,s.jsxs)("a",{target:"_blank",href:"https://links.tabbyml.com/join-slack-webserver",className:(0,w.d)(),children:[(0,s.jsx)(k.IconSlack,{className:"-ml-2 h-8 w-8"}),"Join us on Slack"]})})]})})}var M=n(23455);function z(e){let{onSearch:t,className:n,placeholder:r,showBetaBadge:l,isLoading:i}=e,[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),{theme:h}=(0,f.F)();(0,a.useEffect)(()=>{c(!0)},[]);let p=()=>{m&&!i&&(t(m),x(""))};return(0,s.jsxs)("div",{className:(0,N.cn)("relative flex w-full items-center overflow-hidden rounded-lg border border-muted-foreground bg-background p-4 transition-all hover:border-muted-foreground/60",{"!border-primary":d,"py-5":l},n),children:[l&&(0,s.jsx)("span",{className:"absolute -right-8 top-1 mr-3 rotate-45 rounded-none border-none py-0.5 pl-6 pr-5 text-xs text-primary",style:{background:"dark"===h?"#333":"#e8e1d3"},children:"Beta"}),(0,s.jsx)(M.Z,{className:(0,N.cn)("text-area-autosize flex-1 resize-none rounded-lg !border-none bg-transparent !shadow-none !outline-none !ring-0 !ring-offset-0",{"!h-[48px]":!o}),placeholder:r||"Ask anything...",maxRows:5,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey)return e.preventDefault()},onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey)return p()},onFocus:()=>u(!0),onBlur:()=>u(!1),onChange:e=>x(e.target.value),value:m}),(0,s.jsx)("div",{className:(0,N.cn)("mr-6 flex items-center rounded-lg p-1 transition-all",{"bg-primary text-primary-foreground cursor-pointer":m.length>0,"!bg-muted !text-primary !cursor-default":i||0===m.length,"mr-6":l,"mr-1.5":!l}),onClick:p,children:(0,s.jsx)(k.IconArrowRight,{className:"h-3.5 w-3.5"})})]})}var T=n(63743),L=n(52569),F=n(7449),q=n(62226),H=n.n(q),P=n(66686),O=n(56575),V=n(64148),B=n(93668),U=n(16784),K=n(49142),J=n(3765),Q=n(90958),G=n(90615),W=n(57830),X=n(11208),$=n(3448),ee=n(72657),et=n(73033);n(4030);let en=(0,a.createContext)({}),es=(e,t)=>(0,J.Z)(e,{...t,responseFormatter:e=>e,errorHandler(e){throw Error(e?String(e.status):"Fail to fetch")}}),ea={compress:5.3,expand:6.3},er=(0,a.forwardRef)(function(e,t){let n,{}=e,r=(0,v.xG)(),[l]=(0,x.Ot)(),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),j=(0,a.useRef)(null),[b,y]=(0,a.useState)(!1),{triggerRequest:S,isLoading:_,error:C,answer:Y,stop:D}=(0,K.t)({fetcher:es}),A=(0,U.d)(_);(0,a.useImperativeHandle)(t,()=>({onSubmitSearch:R,stop:D}),[]),(0,a.useEffect)(()=>{f&&(document.title=f)},[f]),(0,a.useEffect)(()=>{setTimeout(()=>{y(!0)},500)},[]),(0,a.useEffect)(()=>{var e;m(null==j?void 0:null===(e=j.current)||void 0===e?void 0:e.children[1])},[null==j?void 0:j.current]),(0,a.useEffect)(()=>{if(!Y)return;let e=[...i],t=e.find(e=>e.id===p);t&&(t.content=Y.answer_delta||"",t.relevant_documents=Y.relevant_documents,t.relevant_questions=Y.relevant_questions,t.isLoading=_,o(e))},[_,Y]),(0,a.useEffect)(()=>{if(C){let e=[...i],t=e.find(e=>e.id===p);t&&(t.error="401"===C.message?"Unauthorized":"Fail to fetch",t.isLoading=!1)}},[C]),(0,a.useEffect)(()=>(A.current&&(n=window.setTimeout(()=>{if(A.current&&(d(!0),u)){let e=p===i[i.length-1].id;e&&u.scrollTo({top:u.scrollHeight,behavior:"smooth"})}},300)),A.current||d(!1),()=>{window.clearTimeout(n)}),[_]);let R=e=>{let t=i.map(e=>({role:e.role,id:e.id,content:e.content})),n=t.length>0&&t[0].id,s=(0,O.x0)(),a={id:n||(0,O.x0)(),role:"user",content:e},r={messages:[...t,a],doc_query:!0,generate_relevant_questions:!0};g(s),o([...i].concat([a,{id:s,role:"assistant",content:"",isLoading:!0}])),S(r),f||h(e)};return l.value&&r?(0,s.jsx)(en.Provider,{value:{isLoading:_,onRegenerateResponse:e=>{let t=i.findIndex(t=>t.id===e);if(t<1)return;let n=t-1,s=i[n],a=i.slice(0,n).map(e=>({role:e.role,id:e.id,content:e.content})),r={role:"user",id:s.id,content:s.content},l={messages:[...a,r],doc_query:!0,generate_relevant_questions:!0},c=[...i],d=c[t];d.content="",d.relevant_documents=void 0,d.error=void 0,d.isLoading=!0,g(d.id),o(c),S(l)},onSubmitSearch:R},children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.x,{className:"h-full",ref:j,children:(0,s.jsx)("div",{className:"mx-auto px-4 pb-24 lg:max-w-4xl lg:px-0",children:(0,s.jsx)("div",{className:"flex flex-col",children:i.map((e,t)=>"user"===e.role?(0,s.jsxs)("div",{children:[0!==t&&(0,s.jsx)(X.Z,{}),(0,s.jsx)("div",{className:"pb-2 pt-8",children:(0,s.jsx)(eo,{message:e.content,headline:!0})})]},e.id+t):"assistant"===e.role?(0,s.jsx)("div",{className:"pb-8 pt-2",children:(0,s.jsx)(el,{answer:e,showRelatedQuestion:t===i.length-1})},e.id+t):(0,s.jsx)(s.Fragment,{}))})})}),u&&(0,s.jsx)(ee.K,{className:"!fixed !bottom-[5.4rem] !right-4 !top-auto lg:!bottom-[3.8rem]",container:u,offset:100}),(0,s.jsxs)("div",{className:(0,N.cn)("fixed bottom-5 left-0 flex min-h-[5rem] w-full flex-col items-center gap-y-2",{"opacity-100 translate-y-0":b,"opacity-0 translate-y-10":!b}),style:{transition:"all 0.35s ease-out"},children:[(0,s.jsxs)(w.z,{className:(0,N.cn)("bg-background",{"opacity-0 pointer-events-none":!c,"opacity-100":c}),style:{transition:"opacity 0.55s ease-out"},variant:"outline",onClick:D,children:[(0,s.jsx)(k.IconStop,{className:"mr-2"}),"Stop generating"]}),(0,s.jsx)("div",{className:"relative z-20 flex justify-center self-stretch px-4",children:(0,s.jsx)(z,{onSearch:R,className:"lg:max-w-4xl",placeholder:"Ask a follow up question",isLoading:_})})]})]})}):(0,s.jsx)(s.Fragment,{})});function el(e){var t;let{answer:n,showRelatedQuestion:r}=e,{onRegenerateResponse:l,onSubmitSearch:i,isLoading:o}=(0,a.useContext)(en),[c,d]=(0,a.useState)(!1),u=n.isLoading?k.IconSpinner:k.IconSparkles,m=n.relevant_documents?Math.ceil(n.relevant_documents.length/4)*ea.expand+.5*Math.floor(n.relevant_documents.length/4):0;return(0,s.jsxs)("div",{className:"flex flex-col gap-y-5",children:[n.relevant_documents&&n.relevant_documents.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-1 flex items-center gap-x-2",children:[(0,s.jsx)(k.IconBlocks,{className:"relative",style:{top:"-0.04rem"}}),(0,s.jsx)("p",{className:"text-sm font-bold leading-normal",children:"Sources"})]}),(0,s.jsx)("div",{className:"gap-sm grid grid-cols-3 gap-2 overflow-hidden md:grid-cols-4",style:{transition:"height 0.25s ease-out",height:c?"".concat(m,"rem"):"".concat(ea.compress,"rem")},children:n.relevant_documents.map((e,t)=>(0,s.jsx)(ei,{source:e,showMore:c,index:t+1},e.link))}),(0,s.jsxs)(w.z,{variant:"ghost",className:"-ml-1.5 mt-1 flex items-center gap-x-1 px-1 py-2 text-sm font-normal text-muted-foreground",onClick:()=>d(!c),children:[(0,s.jsx)(k.IconChevronRight,{className:(0,N.cn)({"-rotate-90":c,"rotate-90":!c})}),(0,s.jsx)("p",{children:c?"Show less":"Show more"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-1 flex items-center gap-x-1.5",children:[(0,s.jsx)(u,{className:(0,N.cn)({"animate-spinner":n.isLoading})}),(0,s.jsx)("p",{className:"text-sm font-bold leading-none",children:"Answer"})]}),n.isLoading&&!n.content&&(0,s.jsx)($.O,{className:"mt-1 h-40 w-full"}),(0,s.jsx)(eo,{message:n.content,sources:n.relevant_documents}),n.error&&(0,s.jsx)(ed,{error:n.error}),!n.isLoading&&(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-x-3 text-sm",children:[(0,s.jsx)(D.q,{className:"-ml-1.5 gap-x-1 px-1 font-normal text-muted-foreground",value:(e=>{if(!e.relevant_documents)return e.content;let t=e.content.replace(/\[\[?citation:\s*\d+\]?\]/g,(e,t)=>{let n=null==e?void 0:e.match(/\d+/);return"[".concat(n,"]")}).trim(),n=e.relevant_documents.map((e,t)=>"[".concat(t+1,"] ").concat(e.link)).join("\n");return"".concat(t,"\n\nCitations:\n").concat(n)})(n),text:"Copy"}),!o&&(0,s.jsxs)(w.z,{className:"flex items-center gap-x-1 px-1 font-normal text-muted-foreground",variant:"ghost",onClick:l.bind(null,n.id),children:[(0,s.jsx)(k.IconRefresh,{}),(0,s.jsx)("p",{children:"Regenerate"})]})]})]}),r&&!n.isLoading&&n.relevant_questions&&n.relevant_questions.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,s.jsx)(k.IconLayers,{}),(0,s.jsx)("p",{className:"text-sm font-bold leading-none",children:"Suggestions"})]}),(0,s.jsx)("div",{className:"mt-2 flex flex-col gap-y-3",children:null===(t=n.relevant_questions)||void 0===t?void 0:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border p-4 py-3 transition-opacity hover:opacity-70",onClick:i.bind(null,e),children:[(0,s.jsx)("p",{className:"w-full overflow-hidden text-ellipsis text-sm",children:e}),(0,s.jsx)(k.IconPlus,{})]},t))})]})]})}function ei(e){let{source:t,index:n,showMore:a}=e,{hostname:r}=new URL(t.link);return(0,s.jsxs)("div",{className:"flex cursor-pointer flex-col justify-between gap-y-1 rounded-lg border bg-card p-3 hover:bg-card/60",style:{height:a?"".concat(ea.expand,"rem"):"".concat(ea.compress,"rem"),transition:"all 0.25s ease-out"},onClick:()=>window.open(t.link),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-0.5",children:[(0,s.jsx)("p",{className:"line-clamp-1 w-full overflow-hidden text-ellipsis break-all text-xs font-semibold",children:t.title}),(0,s.jsx)("p",{className:(0,N.cn)(" w-full overflow-hidden text-ellipsis break-all text-xs text-muted-foreground",{"line-clamp-2":a,"line-clamp-1":!a}),children:(e=>{let t=H().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),n=P.TU.parse(t),s=n.replace(/<\/?[^>]+(>|$)/g,"");return s})(t.snippet)})]}),(0,s.jsx)("div",{className:"flex items-center text-xs text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex w-full flex-1 items-center",children:[(0,s.jsx)(ec,{hostname:r}),(0,s.jsx)("p",{className:"ml-1 overflow-hidden text-ellipsis",children:r.replace("www.","").split("/")[0]})]})})]})}function eo(e){let{message:t,headline:n=!1,sources:a}=e;return(0,s.jsx)(et.s,{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[V.Z,B.Z],components:{p(e){let{children:t}=e;return n?(0,s.jsx)("h3",{className:"break-anywhere cursor-text scroll-m-20 text-xl font-semibold tracking-tight",children:t}):t.length?(0,s.jsx)("div",{className:"mb-2 inline-block leading-relaxed last:mb-0",children:t.map((e,t)=>{if("string"==typeof e){let n=/\[\[?citation:\s*\d+\]?\]/g,r=e.split(n),l=e.match(n);return(0,s.jsx)("span",{children:r.map((e,t)=>{let n=null==l?void 0:l[t],r=null==n?void 0:n.match(/\d+/),i=r?parseInt(r[0],10):null,o=null!==i?null==a?void 0:a[i-1]:null,c=o?new URL(o.link):null;return(0,s.jsxs)("span",{children:[e&&(0,s.jsx)("span",{children:e}),o&&(0,s.jsxs)(G.zs,{children:[(0,s.jsx)(G.Yi,{children:(0,s.jsx)("span",{className:"relative -top-2 mr-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs",onClick:()=>window.open(o.link),children:i})}),(0,s.jsx)(G.bZ,{className:"w-96 text-sm",children:(0,s.jsxs)("div",{className:"flex w-full flex-col gap-y-1",children:[(0,s.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,s.jsx)(ec,{hostname:c.hostname,className:"m-0 mr-1 leading-none"}),(0,s.jsx)("p",{className:"m-0 leading-none",children:c.hostname})]}),(0,s.jsx)("p",{className:"m-0 cursor-pointer font-bold leading-none transition-opacity hover:opacity-70",onClick:()=>window.open(o.link),children:o.title}),(0,s.jsx)("p",{className:"m-0 leading-none",children:o.snippet})]})})]})]},t)})},t)}return(0,s.jsx)("span",{children:e},t)})}):(0,s.jsx)("p",{className:"mb-2 last:mb-0",children:t})},code(e){let{node:t,inline:n,className:a,children:r,...l}=e;if(r.length){if("▍"==r[0])return(0,s.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});r[0]=r[0].replace("`▍`","▍")}let i=/language-(\w+)/.exec(a||"");return n?(0,s.jsx)("code",{className:a,...l,children:r}):(0,s.jsx)(Q.dn,{language:i&&i[1]||"",value:String(r).replace(/\n$/,""),...l},Math.random())}},children:t})}function ec(e){let{hostname:t,className:n}=e;return(0,s.jsx)("img",{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(t),alt:t,className:(0,N.cn)("h-3.5 w-3.5 rounded-full leading-none",n)})}function ed(e){let{error:t="Fail to fetch"}=e,n=(0,a.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:t},null,2)+"\n```",[t]);return(0,s.jsx)(et.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[V.Z,B.Z],components:{code(e){let{node:t,inline:n,className:a,children:r,...l}=e;return(0,s.jsx)("div",{...l,className:(0,N.cn)(a,"bg-zinc-950 p-2"),children:r})}},children:n})}var eu=n(11978),em=n(94755),ef=n(36619),ex=n(99092),eh=n.n(ex),ep=n(72223),eg=n(42390),ej=n.n(eg),ev=n(40055),eb=n(18500),eN=n(70410),ew=n(35814),ey=n(39018),ek=n.n(ey),eS=n(60079),e_=n(994),eC=n(37568),eY=n(16294),eD=n(82382),eA=n(85948);function eR(e){let{active:t,payload:n}=e;if(t&&n&&n.length){let{value:e,views:t,name:a}=n[0].payload;return t?(0,s.jsx)(y.Zb,{children:(0,s.jsxs)(y.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 inline-block w-20",children:"Rate:"}),(0,s.jsxs)("b",{children:[e,"%"]})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:a})]})}):null}return null}function eE(e){let{active:t,payload:n,type:a}=e;if(t&&n&&n.length){let{views:e,selects:t,name:r}=n[0].payload;return e?(0,s.jsx)(y.Zb,{children:(0,s.jsxs)(y.aY,{className:"flex flex-col gap-y-0.5 px-4 py-2 text-sm",children:[("view"===a||"all"===a)&&(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 inline-block w-20",children:"Completions:"}),(0,s.jsx)("b",{children:e})]}),("accept"===a||"all"===a)&&(0,s.jsxs)("p",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3 inline-block w-20",children:"Acceptances:"}),(0,s.jsx)("b",{children:t})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:r})]})}):null}return null}function eZ(e){let{from:t,to:n,dailyStats:a}=e,{theme:r}=(0,f.F)(),l=(0,ew.Z)(null==a?void 0:a.map(e=>e.views)),i=(0,ew.Z)(null==a?void 0:a.map(e=>e.selects)),o=(0,ef.Z)({start:t,end:n}),c={},d={};null==a||a.forEach(e=>{let t=eh()(e.start).format("YYYY-MM-DD");c[t]=c[t]||0,d[t]=d[t]||0,c[t]+=e.views,d[t]+=e.selects},{});let u=0===l?0:(i/l*100).toFixed(2),m=o.map(e=>{let t=eh()(e).format("YYYY-MM-DD"),n=c[t]||0,s=d[t]||0;return{name:eh()(e).format("MMMM D"),value:0===n?0:parseFloat((s/n*100).toFixed(2)),selects:s,views:n}}),x=o.map(e=>{let t=eh()(e).format("YYYY-MM-DD"),n=c[t]||0,s=d[t]||0,a=n-s;return{name:eh()(e).format("MMMM D"),views:n,selects:s,pending:0===n?.5:a,realPending:0===n?0:a,viewPlaceholder:0===n?.5:0,selectPlaceholder:0===s?.5:0}});return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex w-full flex-col items-center justify-center space-y-5 md:flex-row md:space-x-4 md:space-y-0 xl:justify-start",children:[(0,s.jsxs)(y.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-transparent pb-3 md:block","data-aos":"fade-up","data-aos-delay":"200",children:[(0,s.jsx)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 px-4 pb-1 pt-4",children:(0,s.jsx)(y.ll,{className:"text-sm font-normal leading-none tracking-tight",children:"Acceptance Rate"})}),(0,s.jsx)(y.aY,{className:"px-4 pb-2",children:(0,s.jsxs)("div",{className:"font-bold",children:[u,"%"]})}),(0,s.jsx)(eS.h,{width:"100%",height:40,children:(0,s.jsxs)(e_.w,{data:m,margin:{top:10,right:20,left:15,bottom:5},children:[(0,s.jsx)(eC.x,{type:"monotone",dataKey:"value",stroke:"dark"===r?"#e8e1d3":"#54452c",strokeWidth:1.5}),(0,s.jsx)(eY.u,{cursor:{fill:"transparent"},content:(0,s.jsx)(eR,{})})]})})]}),(0,s.jsxs)(y.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-transparent pb-3 md:block","data-aos":"fade-up","data-aos-delay":"250",children:[(0,s.jsx)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 px-4 pb-1 pt-4",children:(0,s.jsx)(y.ll,{className:"text-sm font-normal leading-none tracking-tight",children:"Completions"})}),(0,s.jsx)(y.aY,{className:"px-4 pb-2",children:(0,s.jsx)("div",{className:"font-bold",children:ek()(l).format("0,0")})}),(0,s.jsx)(eS.h,{width:"100%",height:40,children:(0,s.jsxs)(eD.v,{data:x,margin:{top:0===l?30:5,right:15,left:15,bottom:0},children:[(0,s.jsx)(eA.$,{dataKey:"views",stackId:"stats",fill:"dark"===r?"#e8e1d3":"#54452c",radius:3}),(0,s.jsx)(eA.$,{dataKey:"viewPlaceholder",stackId:"stats",fill:"dark"===r?"#423929":"#e8e1d3",radius:3}),(0,s.jsx)(eY.u,{cursor:{fill:"transparent"},content:(0,s.jsx)(eE,{type:"view"})})]})})]}),(0,s.jsxs)(y.Zb,{className:"flex flex-1 flex-col justify-between self-stretch bg-transparent pb-3 md:block","data-aos":"fade-up","data-aos-delay":"300",children:[(0,s.jsx)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 px-4 pb-1 pt-4",children:(0,s.jsx)(y.ll,{className:"text-sm font-normal leading-none tracking-tight",children:"Acceptances"})}),(0,s.jsx)(y.aY,{className:"px-4 pb-2",children:(0,s.jsx)("div",{className:"font-bold",children:ek()(i).format("0,0")})}),(0,s.jsx)(eS.h,{width:"100%",height:40,children:(0,s.jsxs)(eD.v,{data:x,margin:{top:0===l?30:5,right:15,left:15,bottom:0},children:[(0,s.jsx)(eA.$,{dataKey:"selects",stackId:"stats",fill:"dark"===r?"#e8e1d3":"#54452c",radius:3}),(0,s.jsx)(eA.$,{dataKey:"selectPlaceholder",stackId:"stats",fill:"dark"===r?"#423929":"#e8e1d3",radius:3}),(0,s.jsx)(eY.u,{cursor:{fill:"transparent"},content:(0,s.jsx)(eE,{type:"accept"})})]})})]})]})})}function eI(e){let{data:t}=e,{theme:n}=(0,f.F)(),a=(0,em.iP)(),r=a.width||0;return(0,s.jsx)(ep.ZP,{data:t,colorScheme:"dark"===n?"dark":"light",theme:{light:["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],dark:["rgb(45, 51, 59)","#0e4429","#006d32","#26a641","#39d353"]},blockSize:r>=800?7:9,hideTotalCount:!0,showWeekdayLabels:!0,fontSize:11})}function eM(){var e,t,n;let a,r;let[{data:l}]=(0,g.P)(),i=(0,eu.useSearchParams)(),o=(0,v.UA)(),c=o||"true"===i.get("sample"),d=eh()().subtract(6,"day").startOf("day").utc().format(),u=eh()().endOf("day").utc().format(),[{data:m,fetching:f}]=(0,ev.aM)({query:eN.Cl,variables:{start:d,end:u,users:null==l?void 0:null===(e=l.me)||void 0===e?void 0:e.id}});if(c){let e=(0,ef.Z)({start:eh()().subtract(6,"day").toDate(),end:eh()().toDate()});a=e.map(e=>{let t=[eb.SQ.Typescript,eb.SQ.Python,eb.SQ.Rust],n=ej()(eh()(e).format("YYYY-MM-DD")+(null==l?void 0:l.me.id)),s=Math.ceil(20*n()),a=Math.ceil(s/.35);return{start:eh()(e).utc().format(),end:eh()(e).add(1,"day").utc().format(),completions:a,selects:s,views:a,language:t[s%t.length]}})}else a=null==m?void 0:m.dailyStats.map(e=>({start:e.start,end:e.end,completions:e.completions,selects:e.selects,views:e.views,language:e.language}));let[{data:x,fetching:h}]=(0,ev.aM)({query:eN.Y6,variables:{users:null==l?void 0:null===(t=l.me)||void 0===t?void 0:t.id}}),p=0;if(c){let e=(0,ef.Z)({start:eh()().toDate(),end:eh()().subtract(365,"days").toDate()});r=e.map(e=>{let t=ej()(eh()(e).format("YYYY-MM-DD")+(null==l?void 0:l.me.id)),n=Math.ceil(20*t()),s=n+Math.floor(10*t());return{start:eh()(e).format("YYYY-MM-DD[T]HH:mm:ss[Z]"),end:eh()(e).add(1,"day").format("YYYY-MM-DD[T]HH:mm:ss[Z]"),completions:s,selects:n,views:s}})}else r=null==x?void 0:x.dailyStatsInPastYear.map(e=>({start:e.start,end:e.end,completions:e.completions,selects:e.selects,views:e.views}));let j=(null==r?void 0:r.reduce((e,t)=>{let n=eh().utc(t.start).format("YYYY-MM-DD");return p+=t.views+t.selects,{...e,[n]:t.views}},{}))||{},b=Array(365).fill("").map((e,t)=>{let n=eh()().subtract(t,"days").format("YYYY-MM-DD"),s=j[n]||0;return{date:n,count:s,level:Math.min(4,Math.ceil(s/5))}}).reverse();return(null==l?void 0:null===(n=l.me)||void 0===n?void 0:n.id)?(0,s.jsxs)("div",{className:"flex w-full flex-col gap-y-4",children:[(0,s.jsxs)("div",{"data-aos":"fade-up","data-aos-delay":"150",children:[(0,s.jsxs)("h3",{className:"mb-2 text-xs font-medium tracking-tight",children:[(0,s.jsx)("b",{children:p})," activities in the last year"]}),(0,s.jsx)("div",{className:"flex items-end justify-center rounded-xl border px-5 py-4",children:(0,s.jsx)(eI,{data:b})})]}),(0,s.jsx)(eZ,{dailyStats:a,from:eh()().subtract(6,"day").toDate(),to:eh()().toDate()})]}):(0,s.jsx)(s.Fragment,{})}n(47682);let ez=(0,h.BX)("\n  mutation ResetUserAuthToken {\n    resetUserAuthToken\n  }\n");function eT(){let[e]=(0,x.Ot)(),{data:t}=(0,p.Q)(),[{data:n}]=(0,g.P)(),r=(0,v.xG)(),{theme:i}=(0,f.F)(),[o]=(0,A.Hb)(),[d,m]=(0,a.useState)(!1),[h,j]=(0,a.useState)(""),b=(0,a.useRef)(null),y=(0,a.useRef)(null);if((0,a.useEffect)(()=>{setTimeout(()=>{if(b.current){let e=b.current.scrollHeight>b.current.clientHeight;u().init({once:!0,duration:250,disable:e})}},100)},[b.current]),(0,a.useEffect)(()=>{d&&y.current&&y.current.onSubmitSearch(h),d||(document.title="Tabby")},[d]),!t||!(null==n?void 0:n.me))return(0,s.jsx)(s.Fragment,{});let S=o?{height:"calc(100vh - ".concat(A.wt,")")}:{height:"100vh"};return(0,s.jsxs)("div",{className:"transition-all",style:S,children:[(0,s.jsxs)("header",{className:"flex h-16 items-center justify-between px-4",children:[(0,s.jsx)("div",{children:d&&(0,s.jsx)("div",{className:"flex items-center gap-x-6",children:(0,s.jsxs)(w.z,{variant:"ghost",className:"-ml-1 pl-0 text-sm text-muted-foreground",onClick:()=>{y.current&&y.current.stop(),m(!1)},children:[(0,s.jsx)(k.IconChevronLeft,{className:"mr-1 h-5 w-5"}),"Home"]})})}),(0,s.jsxs)("div",{className:"flex items-center gap-x-6",children:[(0,s.jsx)(Y.q,{children:(0,s.jsx)(T.T,{})}),(0,s.jsx)(F.Z,{showHome:!1,showSetting:!0,children:(0,s.jsx)(L.Y,{className:"h-10 w-10 border"})})]})]}),(0,s.jsxs)("main",{className:(0,N.cn)("h-[calc(100%-4rem)] overflow-auto pb-8 lg:pb-0",{"lg:flex flex-col items-center justify-center":!d}),ref:b,children:[!d&&(0,s.jsxs)("div",{className:"mx-auto flex w-full flex-col items-center px-10 lg:-mt-[2vh] lg:max-w-4xl lg:px-0",children:[(0,s.jsx)(l(),{src:c.Z,alt:"logo",width:192,className:(0,N.cn)("mt-4 invert dark:invert-0",{"mb-4":r&&e.value,"mb-2":!r||!e.value}),"data-aos":"fade-down","data-aos-delay":"150"}),(0,s.jsxs)("div",{className:(0,N.cn)(" flex scroll-m-20 items-center gap-2 text-sm tracking-tight text-secondary-foreground",{"mb-6":r&&e.value,"mb-9":!r||!e.value}),"data-aos":"fade-down","data-aos-delay":"100",children:[(0,s.jsx)("span",{children:"research"}),(0,s.jsx)(X.Z,{orientation:"vertical",className:"h-[80%]"}),(0,s.jsx)("span",{children:"develop"}),(0,s.jsx)(X.Z,{orientation:"vertical",className:"h-[80%]"}),(0,s.jsx)("span",{children:"debug"})]}),r&&e.value&&(0,s.jsx)("div",{className:"mb-10 w-full","data-aos":"fade-down",children:(0,s.jsx)(z,{onSearch:e=>{j(e),m(!0)},showBetaBadge:!0})}),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-x-5 lg:flex-row",children:[(0,s.jsx)("div",{className:"mb-10 w-full rounded-lg p-4 lg:mb-0 lg:w-[21rem]",style:{background:"dark"===i?"#333":"#e8e1d3"},"data-aos":"fade-up","data-aos-delay":"100",children:(0,s.jsx)(eL,{})}),(0,s.jsx)(eM,{})]})]}),d&&(0,s.jsx)(er,{ref:y})]})]})}function eL(e){let{className:t}=e,[{data:n},a]=(0,g.P)(),r=(0,j.j)(),l=(0,b.D)(ez,{onCompleted:()=>a()});return(null==n?void 0:n.me)?(0,s.jsxs)("div",{className:t,children:[(0,s.jsxs)(y.aY,{className:"flex flex-col gap-6 px-0",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(_._,{className:"text-xs font-semibold",children:"Endpoint URL"}),(0,s.jsx)(D.q,{value:r})]}),(0,s.jsx)("span",{className:"flex items-center gap-1",children:(0,s.jsx)(S.I,{value:r,onChange:m.Z,className:"h-7 max-w-[320px] rounded-none border-x-0 !border-t-0 border-muted-foreground p-0 shadow-none dark:border-primary/50"})})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(_._,{className:"text-xs font-semibold",children:"Token"}),(0,s.jsx)(D.q,{value:n.me.authToken}),(0,s.jsx)(w.z,{title:"Rotate",size:"icon",variant:"hover-destructive",onClick:()=>l(),children:(0,s.jsx)(k.IconRotate,{})})]}),(0,s.jsx)("span",{className:"flex items-center gap-1",children:(0,s.jsx)(S.I,{className:"h-7 max-w-[320px] rounded-none border-x-0 !border-t-0 border-muted-foreground p-0 font-mono shadow-none dark:border-primary/50",value:n.me.authToken,onChange:m.Z})})]})]}),(0,s.jsx)(y.eW,{className:"px-0 pb-2 text-xs text-muted-foreground",children:(0,s.jsxs)("span",{children:["Use information above for IDE extensions / plugins configuration, see"," ",(0,s.jsx)("a",{className:"underline",target:"_blank",href:"https://tabby.tabbyml.com/docs/extensions/configurations#server",children:"documentation website"})," ","for details"]})}),(0,s.jsxs)("div",{className:"mb-6 mt-3 flex gap-x-3 lg:mb-0",children:[(0,s.jsx)(eF,{href:"https://marketplace.visualstudio.com/items?itemName=TabbyML.vscode-tabby",name:"Visual Studio Code",icon:(0,s.jsx)(k.IconVSCode,{className:"h-5 w-5"})}),(0,s.jsx)(eF,{href:"https://plugins.jetbrains.com/plugin/22379-tabby",name:"JetBrains",icon:(0,s.jsx)(k.IconJetBrains,{className:"h-5 w-5"})})]})]}):(0,s.jsx)(s.Fragment,{})}function eF(e){let{href:t,name:n,icon:a}=e;return(0,s.jsxs)(C.u,{children:[(0,s.jsx)(C.aJ,{children:(0,s.jsx)(o(),{href:t,className:"transition-all hover:opacity-80 dark:text-muted-foreground",target:"_blank",children:a})}),(0,s.jsx)(C._v,{children:(0,s.jsx)("p",{children:n})})]})}function eq(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(eT,{}),(0,s.jsx)(I,{})]})}},72657:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var s=n(36164);n(3546);var a=n(12624),r=n(74248),l=n(31458),i=n(81565);function o(e){let{className:t,container:n,offset:o,...c}=e,d=(0,a.e)(o||0,n);return(0,s.jsxs)(l.z,{variant:"outline",size:"icon",className:(0,r.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",d?"opacity-0":"opacity-100",t),onClick:()=>{n?n.scrollTo({top:n.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,s.jsx)(i.IconArrowDown,{}),(0,s.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},68172:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var s=n(36164),a=n(38785);function r(e){let{children:t,fallback:n=null}=e;return(0,a.U)()?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)(s.Fragment,{children:n})}},30601:function(e,t,n){"use strict";n.d(t,{Hb:function(){return f},wt:function(){return d},xc:function(){return x},yo:function(){return m}});var s=n(36164),a=n(3546),r=n(74630),l=n(36327),i=n(80605),o=n(74248),c=n(81565);let d="3.5rem",u=a.createContext({}),m=e=>{let{children:t}=e,n=(0,i.UA)(),[l,o]=a.useState(!1);return a.useEffect(()=>{let e=window.self!==window.top;e||(0,r.Z)(n)||o(n)},[n]),(0,s.jsx)(u.Provider,{value:{isShowDemoBanner:l,setIsShowDemoBanner:o},children:t})};function f(){let{isShowDemoBanner:e,setIsShowDemoBanner:t}=a.useContext(u);return[e,t]}function x(){let[e,t]=f(),{data:n}=(0,l.Z)("https://api.github.com/repos/TabbyML/tabby",e=>fetch(e).then(e=>e.json()));return(0,s.jsxs)("div",{className:(0,o.cn)("flex items-center justify-between bg-primary px-4 text-primary-foreground transition-all md:px-5",{"opacity-100 pointer-events-auto":e,"opacity-0 pointer-events-none":!e}),style:e?{height:d}:{height:0},children:[(0,s.jsxs)("a",{href:"https://links.tabbyml.com/schedule-a-demo",target:"_blank",className:"flex items-center gap-x-2 text-xs font-semibold underline md:text-sm",children:[(0,s.jsx)("span",{children:"\uD83D\uDCC6"}),(0,s.jsx)("span",{children:"Book a 30-minute product demo."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-x-4 md:gap-x-8",children:[(0,s.jsxs)("a",{href:"https://github.com/TabbyML/tabby",target:"_blank",className:"flex items-center transition-all hover:opacity-70",children:[(0,s.jsx)(c.IconGithub,{}),(0,s.jsxs)("div",{className:"ml-2 hidden md:block",children:[(0,s.jsx)("p",{className:"text-xs font-semibold",children:"TabbyML/tabby"}),(0,s.jsxs)("div",{className:(0,o.cn)("flex items-center text-xs transition-all",{"h-4 opacity-70":n,"h-0 opacity-0":!n}),children:[(0,s.jsx)(c.IconStar,{className:"mr-1 h-2.5 w-2.5"}),(0,s.jsx)("span",{children:null==n?void 0:n.stargazers_count}),(0,s.jsx)(c.IconGitFork,{className:"ml-2 mr-1 h-2.5 w-2.5"}),(0,s.jsx)("span",{children:null==n?void 0:n.forks_count})]})]})]}),(0,s.jsx)(c.IconClose,{className:"cursor-pointer transition-all hover:opacity-70",onClick:()=>t(!1)})]})]})}},73033:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var s=n(3546),a=n(52991);let r=(0,s.memo)(a.D,(e,t)=>e.children===t.children&&e.className===t.className)},63743:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var s=n(36164),a=n(3546),r=n(28242),l=n(31458),i=n(81565);function o(e){let{className:t}=e,{setTheme:n,theme:o}=(0,r.F)(),[c,d]=a.useTransition();return(0,s.jsxs)(l.z,{variant:"ghost",size:"icon",onClick:()=>{d(()=>{n("light"===o?"dark":"light")})},className:t,children:["dark"===o?(0,s.jsx)(i.IconMoon,{className:"transition-all"}):(0,s.jsx)(i.IconSun,{className:"transition-all"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},79972:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var s=n(36164),a=n(3546),r=n(74248);let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",n),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",n),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",n),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",n),...a})});u.displayName="CardFooter"},90958:function(e,t,n){"use strict";n.d(t,{dn:function(){return d}});var s=n(36164),a=n(3546),r=n(73162),l=n(83008),i=n(28312),o=n(31458),c=n(81565);let d=(0,a.memo)(e=>{let{language:t,value:n,onCopyContent:a}=e,{isCopied:d,copyToClipboard:u}=(0,i.m)({timeout:2e3,onCopyContent:a});return(0,s.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,s.jsx)("span",{className:"text-xs lowercase",children:t}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:(0,s.jsxs)(o.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{d||u(n)},children:[d?(0,s.jsx)(c.IconCheck,{}):(0,s.jsx)(c.IconCopy,{}),(0,s.jsx)("span",{className:"sr-only",children:"Copy code"})]})})]}),(0,s.jsx)(r.Z,{language:"toml"===t?"bash":t,style:l.RY,PreTag:"div",showLineNumbers:!0,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},children:n})]})});d.displayName="CodeBlock"},30220:function(e,t,n){"use strict";n.d(t,{$N:function(){return h},Be:function(){return p},Vq:function(){return o},cN:function(){return x},cZ:function(){return m},fK:function(){return f},hg:function(){return c}});var s=n(36164),a=n(3546),r=n(4318),l=n(1663),i=n(74248);let o=r.fC,c=r.xz,d=r.h_;r.x8;let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});u.displayName=r.aV.displayName;let m=a.forwardRef((e,t)=>{let{className:n,children:a,...o}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...o,children:[a,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};f.displayName="DialogHeader";let x=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};x.displayName="DialogFooter";let h=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});h.displayName=r.Dx.displayName;let p=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})});p.displayName=r.dk.displayName},62202:function(e,t,n){"use strict";n.d(t,{$F:function(){return o},AW:function(){return d},Ju:function(){return m},VD:function(){return f},Xi:function(){return u},h_:function(){return i}});var s=n(36164),a=n(3546),r=n(19148),l=n(74248);let i=r.fC,o=r.xz;r.ZA,r.Uv,r.Tr,r.Ee;let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.tu,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",n),...a})});c.displayName=r.tu.displayName;let d=a.forwardRef((e,t)=>{let{className:n,sideOffset:a=4,...i}=e;return(0,s.jsx)(r.Uv,{children:(0,s.jsx)(r.VY,{ref:t,sideOffset:a,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})})});d.displayName=r.VY.displayName;let u=a.forwardRef((e,t)=>{let{className:n,inset:a,...i}=e;return(0,s.jsx)(r.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",n),...i})});u.displayName=r.ck.displayName;let m=a.forwardRef((e,t)=>{let{className:n,inset:a,...i}=e;return(0,s.jsx)(r.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",n),...i})});m.displayName=r.__.displayName;let f=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",n),...a})});f.displayName=r.Z0.displayName},90615:function(e,t,n){"use strict";n.d(t,{Yi:function(){return o},bZ:function(){return c},zs:function(){return i}});var s=n(36164),a=n(3546),r=n(38421),l=n(74248);let i=r.fC,o=r.xz,c=a.forwardRef((e,t)=>{let{className:n,align:a="center",sideOffset:i=4,...o}=e;return(0,s.jsx)(r.VY,{ref:t,align:a,sideOffset:i,className:(0,l.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...o})});c.displayName=r.VY.displayName},5266:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var s=n(36164),a=n(3546),r=n(90893),l=n(14375),i=n(74248);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.f,{ref:t,className:(0,i.cn)(o(),n),...a})});c.displayName=r.f.displayName},57830:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var s=n(36164),a=n(3546),r=n(50778),l=n(74248);let i=a.forwardRef((e,t)=>{let{className:n,children:a,...i}=e;return(0,s.jsxs)(r.fC,{ref:t,className:(0,l.cn)("relative overflow-hidden",n),...i,children:[(0,s.jsx)(r.l_,{className:"h-full w-full rounded-[inherit] [&>div]:!block",children:a}),(0,s.jsx)(o,{}),(0,s.jsx)(r.Ns,{})]})});i.displayName=r.fC.displayName;let o=a.forwardRef((e,t)=>{let{className:n,orientation:a="vertical",...i}=e;return(0,s.jsx)(r.gb,{ref:t,orientation:a,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...i,children:(0,s.jsx)(r.q4,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=r.gb.displayName},52569:function(e,t,n){"use strict";n.d(t,{Y:function(){return v},n:function(){return b}});var s=n(36164),a=n(3546),r=n(87782),l=n(21454),i=n(36327),o=n(98454),c=n(3765),d=n(74248),u=n(66612);let m=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(u.fC,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...a})});m.displayName=u.fC.displayName;let f=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(u.Ee,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",n),...a})});f.displayName=u.Ee.displayName;let x=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(u.NY,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...a})});x.displayName=u.NY.displayName;var h=n(3448),p=n(30410).lW;let g="not_found",j=!0;function v(e){var t,n,l,u;let{className:v,fallback:b}=e,[{data:N}]=(0,o.P)(),w=null==N?void 0:N.me.id,y=w&&"/avatar/".concat(N.me.id)||null,{data:k,isLoading:S,error:_}=(0,i.Z)(y,e=>{if(j)return(0,c.Z)(e,{responseFormatter:async e=>{let t=await e.blob(),n=p.from(await t.arrayBuffer());return"data:image/png;base64,".concat(n.toString("base64"))},errorHandler:e=>{if(404===e.status)throw Error(g)}})}),C=a.useMemo(()=>{var e;if(null==N?void 0:null===(e=N.me)||void 0===e?void 0:e.email)return(0,r.B)(N.me.email)},[null==N?void 0:null===(t=N.me)||void 0===t?void 0:t.email]);return S?(0,s.jsx)(h.O,{className:(0,d.cn)("h-16 w-16 rounded-full",v)}):((null==_?void 0:_.message)===g&&(j=!1),k||C||!b)?!k&&C?(0,s.jsx)(r.Z,{className:(0,d.cn)("h-16 w-16",v),...C}):(0,s.jsxs)(m,{className:(0,d.cn)("h-16 w-16",v),children:[(0,s.jsx)(f,{src:k,alt:null==N?void 0:null===(n=N.me)||void 0===n?void 0:n.email,className:"object-cover"}),(0,s.jsx)(x,{children:null==N?void 0:null===(u=N.me)||void 0===u?void 0:null===(l=u.email)||void 0===l?void 0:l.substring(0,2)})]}):b}let b=e=>{j=!0,(0,l.JG)("/avatar/".concat(e))}},7449:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var s=n(36164),a=n(3546),r=n(11978),l=n(98454),i=n(80605),o=n(91302),c=n(62202),d=n(81565);function u(e){let{children:t,showHome:n=!0,showSetting:u=!1}=e,m=(0,r.useRouter)(),f=(0,o.QJ)(),[{data:x}]=(0,l.P)(),h=null==x?void 0:x.me;(0,i.xG)();let[p,g]=a.useState(!1),j=async e=>{e.preventDefault(),g(!0),await f(),g(!1)};if(h)return(0,s.jsxs)(c.h_,{children:[(0,s.jsx)(c.$F,{children:t}),(0,s.jsxs)(c.AW,{collisionPadding:{right:16},children:[h.name&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Ju,{className:"pb-0.5",children:h.name}),(0,s.jsx)(c.Ju,{className:"pb-1 pt-0 text-sm font-normal text-muted-foreground",children:h.email})]}),!h.name&&(0,s.jsx)(c.Ju,{children:h.email}),(0,s.jsx)(c.VD,{}),n&&(0,s.jsxs)(c.Xi,{onClick:()=>m.push("/"),className:"cursor-pointer",children:[(0,s.jsx)(d.IconHome,{}),(0,s.jsx)("span",{className:"ml-2",children:"Home"})]}),u&&(0,s.jsxs)(c.Xi,{onClick:()=>m.push("/profile"),className:"cursor-pointer",children:[(0,s.jsx)(d.IconGear,{}),(0,s.jsx)("span",{className:"ml-2",children:"Settings"})]}),(0,s.jsxs)(c.Xi,{onClick:()=>window.open("/files"),className:"cursor-pointer",children:[(0,s.jsx)(d.IconCode,{}),(0,s.jsx)("span",{className:"ml-2",children:"Code Browser"})]}),(0,s.jsxs)(c.Xi,{onClick:()=>window.open("/api"),className:"cursor-pointer",children:[(0,s.jsx)(d.IconBackpack,{}),(0,s.jsx)("span",{className:"ml-2",children:"API Docs"})]}),(0,s.jsx)(c.VD,{}),(0,s.jsxs)(c.Xi,{disabled:p,onClick:j,className:"cursor-pointer",children:[(0,s.jsx)(d.IconLogout,{}),(0,s.jsx)("span",{className:"ml-2",children:"Sign out"}),p&&(0,s.jsx)(d.IconSpinner,{className:"ml-1"})]})]})]})}},93877:function(e,t,n){"use strict";n.d(t,{BT:function(){return o},Ds:function(){return c},Ot:function(){return u}});var s=n(3546);let a=(e,t)=>{let[n,a]=(0,s.useState)(t),[r,l]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let t=localStorage.getItem(e);t&&a(JSON.parse(t)),l(!1)},[]),[n,t=>{a(t),localStorage.setItem(e,JSON.stringify(t))},r]};class r{get value(){if("undefined"!=typeof localStorage){let e=localStorage.getItem(this.storageKey);if(e)return"true"===e}return this.defaultValue}constructor(e,t,n,s){this.storageKey=e,this.title=t,this.description=n,this.defaultValue=s}}class l{defineGlobalVar(){return new r(this.storageKey,this.title,this.description,this.defaultValue)}defineHook(){return()=>{let[e,t,n]=a(this.storageKey,this.defaultValue);return[{value:e,title:this.title,description:this.description,loading:n},()=>{t(!e)}]}}constructor(e,t,n,s){this.storageKey="EXP_".concat(e),this.title=t,this.description=n,this.defaultValue=null!=s&&s}}let i=new l("enable_code_browser_quick_action_bar","Quick Action Bar","Enable Quick Action Bar to display a convenient toolbar when you select code, offering options to explain the code, add unit tests, and more.",!0),o=i.defineGlobalVar(),c=i.defineHook(),d=new l("enable_search","Search","Enable the search on the home page to search for anything you want to know using the local chat model.",!0);d.defineGlobalVar();let u=d.defineHook()},12624:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var s=n(3546),a=n(62940);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,[n,r]=s.useState(!1);return s.useEffect(()=>{if(t)return;let n=(0,a.Z)(()=>{r(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0}),n(),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[e,t]),s.useEffect(()=>{if(!t)return;let n=(0,a.Z)(()=>{let{scrollTop:n,clientHeight:s,scrollHeight:a}=t;r(n+s>=a-e)},100,{leading:!0});return t.addEventListener("scroll",n,{passive:!0}),t.addEventListener("resize",n,{passive:!0}),n(),()=>{t.removeEventListener("scroll",n),t.removeEventListener("resize",n)}},[e,t]),n}},6246:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var s=n(21454),a=n(3765);function r(){return(0,s.ZP)("/v1/health",e=>(0,a.Z)(e,{errorHandler:()=>{throw Error("Unhealth")}}),{shouldRetryOnError:!1})}},38785:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var s=n(3546);let a=!0;function r(){let[e,t]=s.useState(()=>!a);return s.useEffect(function(){a=!1,t(!0)},[]),e}},70526:function(e,t,n){"use strict";n.d(t,{e:function(){return o},j:function(){return c}});var s=n(3546),a=n(40055),r=n(43240),l=n(74248);let i=(0,r.BX)("\n  query NetworkSetting {\n    networkSetting {\n      externalUrl\n    }\n  }\n"),o=e=>(0,a.aM)({query:i,...e}),c=()=>{let[{data:e}]=o(),t=null==e?void 0:e.networkSetting,n=s.useMemo(()=>(null==t?void 0:t.externalUrl)||((0,l.S_)()?new URL(window.location.href).origin:""),[t]);return n}},49142:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var s=n(3546),a=n(15696);function r(e){let{api:t="/v1beta/answer",onError:n,headers:r,fetcher:l}=e,[i,o]=s.useState(!1),[c,d]=s.useState(),[u,m]=s.useState(),f=s.useRef(null),x=e=>{if("event"===e.type&&"data"in e){let t=JSON.parse(e.data);t&&d(e=>h(e,t))}},h=(e,t)=>{var n,s;return e?{...e,answer_delta:"".concat(null!==(n=null==e?void 0:e.answer_delta)&&void 0!==n?n:"").concat(null!==(s=null==t?void 0:t.answer_delta)&&void 0!==s?s:""),relevant_documents:(null==t?void 0:t.relevant_documents)||e.relevant_documents,relevant_questions:(null==t?void 0:t.relevant_questions)||e.relevant_questions}:t},p=async e=>{try{o(!0),m(void 0),d(void 0);let n=new AbortController;f.current=n;let s=null!=l?l:window.fetch,i=await s(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",...r},signal:null==n?void 0:n.signal}).catch(e=>{throw e});if(!(null==i?void 0:i.ok))throw Error(String(i.status));if(null==i.body)throw Error("The response body is empty");let c=i.body.pipeThrough(new TextDecoderStream).pipeThrough(new a.m).getReader();for(;;){let{done:e,value:t}=await c.read();if(e)break;x(t)}}catch(e){if((null==e?void 0:e.name)==="AbortError")return f.current=null,null;n&&e instanceof Error&&n(e),m(e)}finally{o(!1)}};return{isLoading:i,answer:c,error:u,setError:m,triggerRequest:p,stop:()=>{f.current&&(f.current.abort(),f.current=null)}}}},4030:function(){},83332:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo-dark.362a169d.png",height:149,width:395,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAQAAAAEwYbDAAAAOklEQVR42gXAIQqAMBQA0A+K3eIVHNhEk21Wk5iN4g6w6z9GyBaDZDLr9OH0qD6/4nWHUZLtNqvL0QDmsR1AxwcSfQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3}}},function(e){e.O(0,[7565,7998,5498,6312,4007,2134,6201,3449,2578,8511,2672,1454,4546,9275,1139,739,5606,9148,6806,5470,778,1113,7646,7444,1565,3823,3375,5289,1744],function(){return e(e.s=95588)}),_N_E=e.O()}]);